# Donation Svelte: Making a donation

The `donate` function can now be completed:

### src/lib/ui/DonateForm.svelte

~~~typescript
  import { donationService } from "$lib/services/donation-service";

  //...

  async function donate() {
    if (selectedCandidate && amount && selectedMethod) {
      const candidateNames = selectedCandidate.split(",");
      const candidate = candidateList.find((candidate) => candidate.lastName == candidateNames[0] && candidate.firstName == candidateNames[1]);
      if (candidate) {
        const donation = {
          amount: amount,
          method: selectedMethod,
          candidate: candidate,
          lat: lat,
          lng: lng,
          donor: $loggedInUser.email,
          _id: ""
        };
        const success = await donationService.donate(donation);
        if (!success) {
          message = "Donation not completed - some error occurred";
          return;
        }
        message = `Thanks! You donated ${amount} to ${candidate.firstName} ${candidate.lastName}`;
      }
    } else {
      message = "Please select amount, method and candidate";
    }
  }
~~~

Make some donations now with the application. For successful donation, check the UX of the donation-hapi application to see if the donation is showing up (you will need to refresh the report view).
